(this.webpackJsonpapp_ts=this.webpackJsonpapp_ts||[]).push([[0],{36:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),i=n(8),o=n.n(i),a=(n(36),n(1)),d=function(){return Object(a.jsx)("img",{alt:"LiveView Technologies",src:"/LVLogo_small.png"})},s=n(13),u=n(6),l=function(){return Object(u.b)()};u.c;var j,b=n(10),f=n(21),p=n.n(f),m=n(23);function O(e,t){for(var n=0,r=Object.entries(t);n<r.length;n++){var c=Object(s.a)(r[n],2),i=c[0],o=c[1];e=e.replace("{"+i+"}",o.toString())}return e}function h(e,t,n,r){return Object(b.b)(e,function(){var e=Object(m.a)(p.a.mark((function e(c,i){var o,a,d,s,u,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=null!==(o=r)&&void 0!==o?o:{}).method=null!==n&&void 0!==n?n:j.GET,(a=new Headers).set("Content-Type","application/json"),r.headers=a,d=t,c&&(d=O(d,c),r.method!==j.POST&&(null===(s=r)||void 0===s?void 0:s.method)!==j.PUT||(r.body=JSON.stringify(c))),e.next=9,fetch(d,r);case 9:if(!(u=e.sent).ok){e.next=19;break}return e.next=13,u.json();case 13:if(l=e.sent,!("data"in l)){e.next=18;break}return e.abrupt("return",l.data);case 18:return e.abrupt("return",i.rejectWithValue(l));case 19:return e.abrupt("return",i.rejectWithValue({error:"API Error"}));case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}!function(e){e.GET="GET",e.PUT="PUT",e.POST="POST",e.DELETE="DELETE"}(j||(j={}));var x,v=function(e){return"http://localhost:8000"+e};!function(e){e[e.Idle=0]="Idle",e[e.Loading=1]="Loading",e[e.Adding=2]="Adding",e[e.Clearing=3]="Clearing",e[e.Removing=4]="Removing",e[e.Updating=5]="Updating"}(x||(x={}));var g={items:[],currentAction:x.Loading},C=h("todos/fetchTodos",v("/api/todo")),T=h("todos/addTodo",v("/api/todo"),j.POST),y=h("todos/updateTodo",v("/api/todo/{id}"),j.PUT),A=h("todos/clearTodos",v("/api/todo"),j.DELETE),N=h("todos/removeTodo",v("/api/todo/{id}"),j.DELETE),E=Object(b.c)({name:"todo",initialState:g,reducers:{},extraReducers:function(e){e.addCase(C.pending,(function(e,t){e.currentAction=x.Loading})),e.addCase(C.fulfilled,(function(e,t){e.currentAction=x.Idle,e.items=t.payload})),e.addCase(C.rejected,(function(e,t){e.currentAction=x.Idle})),e.addCase(T.pending,(function(e,t){e.currentAction=x.Adding})),e.addCase(T.fulfilled,(function(e,t){e.currentAction=x.Idle,e.items.push(t.payload)})),e.addCase(T.rejected,(function(e,t){e.currentAction=x.Idle})),e.addCase(y.pending,(function(e,t){e.currentAction=x.Updating})),e.addCase(y.fulfilled,(function(e,t){e.currentAction=x.Idle;var n=e.items.find((function(e){return e.id===t.payload.id}));n&&(n.description=t.payload.description,n.completed=t.payload.completed)})),e.addCase(y.rejected,(function(e,t){e.currentAction=x.Idle})),e.addCase(A.pending,(function(e,t){e.currentAction=x.Clearing})),e.addCase(A.fulfilled,(function(e,t){e.currentAction=x.Idle,e.items=[]})),e.addCase(A.rejected,(function(e,t){e.currentAction=x.Idle})),e.addCase(N.pending,(function(e,t){e.currentAction=x.Removing})),e.addCase(N.fulfilled,(function(e,t){e.currentAction=x.Idle,e.items=e.items.filter((function(e){return e.id!==t.payload.id}))})),e.addCase(N.rejected,(function(e,t){e.currentAction=x.Idle}))}}).reducer,k=n(52),I=function(e){var t=l();return Object(a.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-start",children:[Object(a.jsx)("input",{className:"checkbox form-check-input",type:"checkbox",checked:e.completed,onChange:function(){return t(y({id:e.id,completed:!e.completed}))}}),Object(a.jsx)("div",{className:"ms-2 me-auto "+(e.completed?"task-completed":""),children:e.description}),Object(a.jsx)(k.a,{className:"btn-close btn-close-custom",onClick:function(){return t(N({id:e.id}))}})]})},L=n(46),P=function(){var e=l(),t=Object(u.c)((function(e){return e.todos.items})),n=Object(u.c)((function(e){return e.todos.currentAction}));return Object(r.useEffect)((function(){e(C())}),[e]),n===x.Loading?Object(a.jsxs)("div",{children:[Object(a.jsx)(L.a,{animation:"border",role:"status"}),"Loading Tasks..."]}):t.length>0?Object(a.jsx)("ul",{className:"task-list",children:t.map((function(e){return Object(a.jsx)(I,{id:e.id,description:e.description,completed:e.completed},e.id)}))}):Object(a.jsx)("div",{className:"empty-list",children:"No Todos"})},S=n(2),w=n(51),D=n(47),U=n(24),F=function(){var e=l(),t=Object(r.useState)(!1),n=Object(s.a)(t,2),c=n[0],i=n[1],o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=Object(r.useState)(e),c=Object(s.a)(n,2),i=c[0],o=c[1],a=function(t){t&&t.target&&o("number"==typeof e?Number(t.target.value):t.target.value)},d=function(){o(e)};return{value:i,set:o,setDefault:d,hasChanged:function(){return i!==e},bind:{value:i,onChange:a,onKeyPress:function(e){!t||"Enter"!==e.code&&"NumpadEnter"!==e.code||t()}}}}("",j),d=Object(r.useRef)(null);function j(){var t;!0===(null===d||void 0===d||null===(t=d.current)||void 0===t?void 0:t.checkValidity())?(i(!1),e(T({description:o.value})),o.set("")):i(!0)}var b=Object(u.c)((function(e){return e.todos.currentAction}))===x.Adding?Object(a.jsxs)(k.a,{variant:"primary",disabled:!0,children:[Object(a.jsx)(L.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),Object(a.jsx)("span",{className:"visually-hidden",children:"Loading..."})]}):Object(a.jsx)(k.a,{variant:"primary",type:"button",onClick:j,children:"Add"});return Object(a.jsx)(w.a,{ref:d,noValidate:!0,validated:c,onSubmit:function(e){return e.preventDefault()},children:Object(a.jsxs)(D.a,{children:[Object(a.jsx)(U.a,{children:Object(a.jsxs)(w.a.Group,{className:"mb-3",controlId:"formDescription",children:[Object(a.jsx)(w.a.Control,Object(S.a)(Object(S.a)({type:"input",placeholder:"New Task Description..."},o.bind),{},{required:!0})),Object(a.jsx)(w.a.Control.Feedback,{type:"invalid",children:"Please provide a todo description."})]})}),Object(a.jsx)(U.a,{className:"col-3 text-end",children:b})]})})},R=n(48),V=function(){var e=l(),t=Object(u.c)((function(e){return e.todos.items.length}))>0?Object(a.jsx)(D.a,{className:"row justify-content-end",children:Object(a.jsx)(U.a,{className:"col-3 text-end",children:Object(a.jsx)(k.a,{className:"btn btn-danger",onClick:function(){return e(A())},children:"Clear"})})}):Object(a.jsx)(a.Fragment,{});return Object(a.jsxs)(R.a,{className:"tasks",children:[Object(a.jsx)(D.a,{className:"row",children:Object(a.jsx)(U.a,{className:"col",children:Object(a.jsx)("h3",{children:"Tasks"})})}),Object(a.jsx)(F,{}),Object(a.jsx)(P,{}),t]})},G=n(29),B=n(50),J=n(49),_=0,z=Object(b.c)({name:"common",initialState:{errors:[]},reducers:{error:function(e,t){e.errors.push({id:++_,description:t.payload})},clearError:function(e,t){e.errors=e.errors.filter((function(e){return e.id!==t.payload}))}},extraReducers:function(e){e.addCase(C.rejected,(function(e,t){e.errors.push({id:++_,description:"Unable to load Todos"})})),e.addCase(T.rejected,(function(e,t){e.errors.push({id:++_,description:"Unable to add Todo"})}))}}),H=z.actions,W=(H.error,H.clearError),q=z.reducer,K=n(28),M=function(){var e=l(),t=Object(u.c)((function(e){return e.common.errors})),n=Object(G.a)(t).reverse().map((function(t){return Object(a.jsxs)(B.a,{className:"error-toast",autohide:!0,delay:6e3,onClose:function(){return e(W(t.id))},children:[Object(a.jsxs)(B.a.Header,{children:[Object(a.jsx)(K.a,{color:"red",size:"2em",className:"error-toast-icon"}),Object(a.jsx)("strong",{className:"me-auto",children:"Error"})]}),Object(a.jsx)(B.a.Body,{children:t.description})]},t.id)}));return Object(a.jsx)(J.a,{position:"bottom-end",children:n})},Q=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(V,{}),Object(a.jsx)(M,{})]})};var X=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(R.a,{children:[Object(a.jsx)(D.a,{children:Object(a.jsx)(U.a,{children:Object(a.jsx)(d,{})})}),Object(a.jsx)(D.a,{children:Object(a.jsx)(U.a,{className:"col-4",children:Object(a.jsx)(Q,{})})})]})})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),i(e),o(e)}))},Z=Object(b.a)({reducer:{common:q,todos:E},middleware:Object(b.d)(),devTools:!0});n(42),n(43);o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(u.a,{store:Z,children:Object(a.jsx)(X,{})})}),document.getElementById("root")),Y()}},[[44,1,2]]]);
//# sourceMappingURL=main.2cd14a34.chunk.js.map