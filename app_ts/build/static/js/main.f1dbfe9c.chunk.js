(this.webpackJsonpapp_ts=this.webpackJsonpapp_ts||[]).push([[0],{107:function(e,t,n){},114:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),c=n(29),o=n.n(c),a=(n(107),n(2)),d=function(){return Object(a.jsx)("img",{alt:"LiveView Technologies",src:"/LVLogo_small.png"})},s=function(){return Object(a.jsx)("div",{})},u=n(13),l=n(49),j=function(){return Object(l.b)()},b=l.c;var f,p=n(32),O=n(69),h=n.n(O),x=n(83);function m(e,t){for(var n=0,r=Object.entries(t);n<r.length;n++){var i=Object(u.a)(r[n],2),c=i[0],o=i[1];e=e.replace("{"+c+"}",o.toString())}return e}function g(e,t,n,r){return Object(p.b)(e,function(){var e=Object(x.a)(h.a.mark((function e(i,c){var o,a,d,s,u,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=null!==(o=r)&&void 0!==o?o:{}).method=null!==n&&void 0!==n?n:f.GET,(a=new Headers).set("Content-Type","application/json"),r.headers=a,d=t,i&&(d=m(d,i),r.method!==f.POST&&(null===(s=r)||void 0===s?void 0:s.method)!==f.PUT||(r.body=JSON.stringify(i))),e.next=9,fetch(d,r);case 9:if(!(u=e.sent).ok){e.next=19;break}return e.next=13,u.json();case 13:if(l=e.sent,!("data"in l)){e.next=18;break}return e.abrupt("return",l.data);case 18:return e.abrupt("return",c.rejectWithValue(l));case 19:return e.abrupt("return",c.rejectWithValue({error:"API Error"}));case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}!function(e){e.GET="GET",e.PUT="PUT",e.POST="POST",e.DELETE="DELETE"}(f||(f={}));var v,C=function(e){return"http://localhost:8000"+e};!function(e){e[e.Idle=0]="Idle",e[e.Loading=1]="Loading",e[e.Adding=2]="Adding",e[e.Clearing=3]="Clearing",e[e.Removing=4]="Removing",e[e.Updating=5]="Updating"}(v||(v={}));var T={items:[],currentAction:v.Loading},y=g("todos/fetchTodos",C("/api/todo")),A=g("todos/addTodo",C("/api/todo"),f.POST),E=g("todos/updateTodo",C("/api/todo/{id}"),f.PUT),k=g("todos/clearTodos",C("/api/todo"),f.DELETE),L=g("todos/removeTodo",C("/api/todo/{id}"),f.DELETE),I=Object(p.c)({name:"todo",initialState:T,reducers:{},extraReducers:function(e){e.addCase(y.pending,(function(e){e.currentAction=v.Loading})),e.addCase(y.fulfilled,(function(e,t){e.currentAction=v.Idle,e.items=t.payload})),e.addCase(y.rejected,(function(e){e.currentAction=v.Idle})),e.addCase(A.pending,(function(e){e.currentAction=v.Adding})),e.addCase(A.fulfilled,(function(e,t){e.currentAction=v.Idle,e.items.push(t.payload)})),e.addCase(A.rejected,(function(e){e.currentAction=v.Idle})),e.addCase(E.pending,(function(e){e.currentAction=v.Updating})),e.addCase(E.fulfilled,(function(e,t){e.currentAction=v.Idle;var n=e.items.find((function(e){return e.id===t.payload.id}));n&&(n.description=t.payload.description,n.completed=t.payload.completed)})),e.addCase(E.rejected,(function(e){e.currentAction=v.Idle})),e.addCase(k.pending,(function(e){e.currentAction=v.Clearing})),e.addCase(k.fulfilled,(function(e){e.currentAction=v.Idle,e.items=[]})),e.addCase(k.rejected,(function(e){e.currentAction=v.Idle})),e.addCase(L.pending,(function(e){e.currentAction=v.Removing})),e.addCase(L.fulfilled,(function(e,t){e.currentAction=v.Idle,e.items=e.items.filter((function(e){return e.id!==t.payload.id}))})),e.addCase(L.rejected,(function(e,t){e.currentAction=v.Idle}))}}).reducer,S=n(171),P=n(164),U=n(172),w=n(162),F=n(173),R=n(85),D=n.n(R),N=function(e){var t=j(),n=Object(a.jsx)(S.a,{edge:"end","aria-label":"close",onClick:function(){return t(L({id:e.id}))},children:Object(a.jsx)(D.a,{})});return Object(a.jsxs)(P.a,{secondaryAction:n,children:[Object(a.jsx)(U.a,{children:Object(a.jsx)(w.a,{edge:"start",checked:e.completed,disableRipple:!0,onChange:function(){return t(E({id:e.id,completed:!e.completed}))}})}),Object(a.jsx)(F.a,{primary:e.description,className:e.completed?"task-completed":""})]},e.id)},V=n(169),G=n(175),J=function(){var e=j(),t=b((function(e){return e.todos.items})),n=b((function(e){return e.todos.currentAction}));return Object(r.useEffect)((function(){e(y())}),[e]),n===v.Loading?Object(a.jsx)(V.a,{variant:"rectangular",width:"100%"}):t.length>0?Object(a.jsx)(G.a,{disablePadding:!0,children:t.map((function(e){return Object(a.jsx)(N,{id:e.id,description:e.description,completed:e.completed},e.id)}))}):Object(a.jsx)("div",{className:"empty-list",children:"No Todos"})},W=n(57),_=n(167),z=n(168),B=n(159),H=function(){var e=j(),t=Object(r.useState)(!1),n=Object(u.a)(t,2),i=n[0],c=n[1],o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=Object(r.useState)(e),i=Object(u.a)(n,2),c=i[0],o=i[1],a=function(t){t&&t.target&&o("number"==typeof e?Number(t.target.value):t.target.value)},d=function(){o(e)};return{value:c,set:o,setDefault:d,hasChanged:function(){return c!==e},bind:{value:c,onChange:a,onKeyPress:function(e){!t||"Enter"!==e.code&&"NumpadEnter"!==e.code||t()}}}}("",l),d=Object(r.useRef)(null),s=b((function(e){return e.todos.currentAction}));function l(){var t;!0===(null===d||void 0===d||null===(t=d.current)||void 0===t?void 0:t.checkValidity())?(c(!1),e(A({description:o.value})),o.set("")):c(!0)}return Object(a.jsxs)(z.a,{container:!0,spacing:1,justifyContent:"center",children:[Object(a.jsx)(z.a,{item:!0,xs:"auto",children:Object(a.jsx)(B.a,Object(W.a)({inputRef:d,id:"standard-basic",variant:"outlined",size:"small",required:!0,helperText:"Enter task description",error:i},o.bind))}),Object(a.jsx)(z.a,{item:!0,xs:"auto",children:Object(a.jsx)(_.a,{onClick:l,loading:s===v.Adding,variant:"contained",children:"Add"})})]})},q=n(86),K=n.n(q),M=n(178),Q=n(179),X=n(180),Y=n(181),Z=n(182),$=n(183),ee=n(184),te=n(185),ne=n(186),re=n(177),ie=function(){var e=j(),t=b((function(e){return e.todos.items.length})),n=Object(r.useState)(!1),i=Object(u.a)(n,2),c=i[0],o=i[1],d=function(){o(!1)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(M.a,{minWidth:"sm",children:Object(a.jsx)(Q.a,{children:Object(a.jsxs)(z.a,{container:!0,p:2,justifyContent:"flex-end",spacing:2,children:[Object(a.jsx)(z.a,{item:!0,xs:12,children:Object(a.jsx)(H,{})}),Object(a.jsx)(z.a,{item:!0,xs:12,children:Object(a.jsx)(X.a,{})}),Object(a.jsx)(z.a,{item:!0,xs:12,children:Object(a.jsx)(J,{})}),t>0?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(z.a,{item:!0,xs:12,children:Object(a.jsx)(X.a,{})}),Object(a.jsx)(z.a,{item:!0,children:Object(a.jsx)(Y.a,{color:"secondary","aria-label":"delete all",onClick:function(){o(!0)},children:Object(a.jsx)(K.a,{})})})]}):Object(a.jsx)(a.Fragment,{})]})})}),Object(a.jsxs)(Z.a,{open:c,onClose:d,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(a.jsx)($.a,{id:"alert-dialog-title",children:"Clear Todos"}),Object(a.jsx)(ee.a,{children:Object(a.jsx)(te.a,{id:"alert-dialog-description",children:"Are you sure you want to clear ALL todos?"})}),Object(a.jsxs)(ne.a,{children:[Object(a.jsx)(re.a,{onClick:d,color:"primary",autoFocus:!0,children:"Cancel"}),Object(a.jsx)(re.a,{onClick:function(){o(!1),e(k())},color:"primary",children:"Clear"})]})]})]})},ce=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(ie,{})})},oe=0,ae=Object(p.c)({name:"common",initialState:{errors:[]},reducers:{clearError:function(e,t){e.errors=e.errors.filter((function(e){return e.id!==t.payload}))}},extraReducers:function(e){e.addCase(y.rejected,(function(e){e.errors.push({id:++oe,description:"Unable to load Todos"})})),e.addCase(A.rejected,(function(e){e.errors.push({id:++oe,description:"Unable to add Todo"})})),e.addCase(L.rejected,(function(e){e.errors.push({id:++oe,description:"Unable to remove Todo"})})),e.addCase(k.rejected,(function(e){e.errors.push({id:++oe,description:"Unable to clear Todos"})})),e.addCase(E.rejected,(function(e){e.errors.push({id:++oe,description:"Unable to update Todos"})}))}}),de=ae.actions.clearError,se=ae.reducer,ue=n(165),le=n(163),je=function(){var e=j(),t=b((function(e){return e.common.errors})),n=b((function(e){return e.common.errors.length})),i=Object(r.useState)(void 0),c=Object(u.a)(i,2),o=c[0],d=c[1],s=Object(r.useState)(!1),l=Object(u.a)(s,2),f=l[0],p=l[1];Object(r.useEffect)((function(){n>0&&!o?(d(Object(W.a)({},t[0])),e(de(t[0].id)),p(!0)):n>0&&o&&f&&p(!1)}),[e,n,t,o,f]);var O=function(e,t){"clickaway"!==t&&p(!1)};return Object(a.jsx)(ue.a,{open:f,onClose:O,autoHideDuration:6e3,TransitionProps:{onExited:function(){d(void 0)}},anchorOrigin:{vertical:"bottom",horizontal:"right"},children:Object(a.jsx)(le.a,{onClose:O,severity:"error",variant:"filled",children:null===o||void 0===o?void 0:o.description})})};var be=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)(z.a,{container:!0,children:[Object(a.jsx)(z.a,{item:!0,xs:12,children:Object(a.jsx)(d,{})}),Object(a.jsx)(z.a,{item:!0,xs:12,children:Object(a.jsxs)(z.a,{container:!0,children:[Object(a.jsx)(z.a,{item:!0,xs:12,md:3,children:Object(a.jsx)(ce,{})}),Object(a.jsx)(z.a,{item:!0,children:Object(a.jsx)(s,{})})]})})]}),Object(a.jsx)(je,{})]})},fe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,187)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),c(e),o(e)}))},pe=Object(p.a)({reducer:{common:se,todos:I},middleware:Object(p.d)(),devTools:!0});n(114);o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(l.a,{store:pe,children:Object(a.jsx)(be,{})})}),document.getElementById("root")),fe()}},[[115,1,2]]]);
//# sourceMappingURL=main.f1dbfe9c.chunk.js.map